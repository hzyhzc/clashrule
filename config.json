{
  "log": {
    "disabled": false,
    "level": "panic",
    "timestamp": true
  },
  "experimental": {
    "clash_api": {
      "external_controller": "0.0.0.0:9090",
      "external_ui": "/usr/local/etc/sing-box/ui",
      "secret": "123456",
      "default_mode": "rule"
    },
    "cache_file": {
      "enabled": true,
      "path": "/usr/local/etc/sing-box/cache.db",
      "store_fakeip": true
    }
  },
  "dns": {
    "servers": [
      {
        "tag": "localDns",
        "address": "udp://127.0.0.1:8888",
        "detour": "direct"
      },
      {
        "tag": "nodedns",
        "address": "udp://127.0.0.1:7777",
        "detour": "direct"
      },
      {
        "tag": "fakeipDNS",
        "address": "fakeip"
      },
      {
        "tag": "block",
        "address": "rcode://success"
      }
    ],
    "rules": [
      {
        "inbound": "in-dns",
        "server": "fakeipDNS",
        "disable_cache": false
      },
      {
        "outbound": "direct",
        "server": "localDns"
      },
      {
        "outbound": "any",
        "server": "nodedns",
        "disable_cache": false
      },
      {
           "type": "logical",
           "mode": "and",
           "rules": [
                  {
                   "source_ip_cidr": "10.10.10.195"
                  },
                  {
                    "ip_cidr": [
                      "8.8.8.8"
                    ]
                  }
                ],
           "server": "fakeipDNS"
       }
    ],
    "fakeip": {
      "enabled": true,
      "inet4_range": "28.0.0.0/8",
      "inet6_range": "fc00::/18"
    },
    "independent_cache": true,
    "lazy_cache": true,
    "disable_expire": false,
    "final": "localDns"
  },
  "inbounds": [
    {
      "type": "direct",
      "tag": "in-dns",
      "tcp_fast_open": true,
      "sniff": false,
      "listen": "::",
      "listen_port": 7874
    },
    {
      "type": "tproxy",
      "tag": "tp",
      "listen": "::",
      "listen_port": 7895,
      "tcp_fast_open": true,
      "sniff": false,
      "sniff_override_destination": false,
      "sniff_timeout": "300ms",
      "udp_disable_domain_unmapping": false,
      "udp_timeout": "5m"
    },
    {
      "type": "redirect",
      "tag": "re",
      "listen": "::",
      "listen_port": 7899,
      "tcp_fast_open": true,
      "sniff": false,
      "sniff_override_destination": false,
      "sniff_timeout": "300ms",
      "udp_disable_domain_unmapping": false,
      "udp_timeout": "5m"
    },
    {
       "type": "hysteria2",
       "tag": "hy2",
       "tcp_fast_open": true,
       "listen": "::",
       "listen_port": 777,
       "users": [
              {
              "password": "你的密码"
              }
          ],
       "ignore_client_bandwidth": true,
        "tls": {
              "enabled": true,
              "alpn": [
                  "h3"
              ],
              "certificate_path": "/root/hysteria/cert.pem",
              "key_path": "/root/hysteria/private.key"
          }
    },
    {
      "type": "socks",
      "listen": "0.0.0.0",
      "listen_port": 7891,
      "tcp_multi_path": false,
      "tcp_fast_open": false,
      "udp_fragment": false,
      "sniff": false,
      "users": []
    },
    {
      "type": "shadowsocks",
      "tag": "ss-in",
      "tcp_fast_open": true,
      "listen": "0.0.0.0",
      "listen_port": 10813,
      "method": "aes-128-gcm",
      "password": "你的密码",
      "multiplex": {}
    }
  ],
  "outbound_providers": [
    {
      "type": "remote",
      "path": "/usr/local/etc/sing-box/providers/奶昔.yaml",
      "tag": "🛫 奶昔",
      "enable_healthcheck": false,
      "healthcheck_url": "http://www.gstatic.com/generate_204",
      "healthcheck_interval": "24h",
      "download_url": "你的订阅1",
      "download_ua": "clash.meta",
      "download_interval": "24000h",
      "download_detour": "direct"
    },
    {
      "type": "remote",
      "path": "/usr/local/etc/sing-box/providers/花云.yaml",
      "tag": "🛫 花云",
      "enable_healthcheck": false,
      "healthcheck_url": "http://www.gstatic.com/generate_204",
      "healthcheck_interval": "24h",
      "download_url": "你的订阅2",
      "download_ua": "clash.meta",
      "download_interval": "24000h",
      "download_detour": "direct"
    }
  ],
  "outbounds": [
      {
         "type": "selector",
         "tag": "♻️ 手动选择",
         "providers": [
            "🛫 奶昔",
            "🛫 花云"
         ],
         "excludes": "Premium"
      },
      {
         "type": "selector",
         "tag": "🚀 节点选择",
         "outbounds": [
            "🔄 自动选择",
            "♻️ 手动选择",
            "sp-ss",
            "sp-tuic",
            "cc-hy2",
            "cc-ss",
            "cc-tuic",
            "bwg-tuic",            
            "🇯🇵 日本节点",
            "✨台湾节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
         ],
         "excludes": "Premium"
      },
      {
        "tag": "🎬 MediaVideo",
        "type": "selector",
        "outbounds": [
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
         "default": "🚀 节点选择"
      },
      {
        "tag":"🤖 OpenAI",
        "type":"selector",
        "outbounds":[
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
        "default": "🇺🇲 美国节点"
      },
      {
         "type": "selector",
         "tag": "📲 电报消息",
         "outbounds": [
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
         ],
         "excludes": "Premium"
      },
      {
         "type": "selector",
         "tag": "🍎 苹果服务",
         "outbounds": [
            "direct",
            "🚀 节点选择",
            "♻️ 手动选择",
            "🇯🇵 日本节点",
            "✨台湾节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
         ],
         "excludes": "Premium",
         "default": "direct"
      },
      {
        "tag": "🧩 Microsoft",
        "type": "selector",
        "outbounds": [
            "direct",
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
         "default": "direct"
      },
      {
        "tag": "🌌 Google",
        "type": "selector",
        "outbounds": [
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
         "default": "🚀 节点选择"
      },
      {
        "tag": "🐦 Twitter",
        "type": "selector",
        "outbounds": [
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
        "default": "🚀 节点选择"
      },
      {
        "tag": "👤 Facebook",
        "type": "selector",
        "outbounds": [
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
         "default": "🚀 节点选择"
      },
      {
        "tag": "🛍️ Amazon",
        "type": "selector",
        "outbounds": [
            "🚀 节点选择",
            "♻️ 手动选择",
            "✨台湾节点",
            "🇯🇵 日本节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
         "default": "🚀 节点选择"
      },
      {
         "type": "selector",
         "tag": "🐟 漏网之鱼",
         "outbounds": "🚀 节点选择",
         "excludes": "Premium"
      },
      {
        "tag": "🎮 Game",
        "type": "selector",
        "outbounds": [
            "direct",
            "🚀 节点选择",
            "♻️ 手动选择",
            "🇯🇵 日本节点",
            "✨台湾节点",
            "🇸🇬 狮城节点",
            "🇭🇰 香港节点",
            "🇺🇲 美国节点",
            "🔰 其它节点"
        ],
         "excludes": "Premium",
         "default": "direct"
      },
      {
         "type": "urltest",
         "tag": "🔄 自动选择",
         "providers": [
            "🛫 奶昔",
            "🛫 花云"
         ],
         "excludes": "Premium",
         "idle_timeout": "30001h",
         "interval": "30000h",
         "tolerance": 50
      },
      {
         "tag": "block",
         "type": "block"
      },
      {
         "tag": "direct",
         "type": "direct",
         "tcp_fast_open": false,
         "udp_fragment": false,
         "tcp_multi_path": false
      },
      {
         "tag": "tolan",
         "type": "direct",
         "bind_interface": "br-lan"
      },
      {
         "tag": "dns-out",
         "type": "dns"
      },
      {
         "type": "selector",
         "tag": "🇯🇵 日本节点",
         "use_all_providers": true,
         "includes": "(?i)日本|东京|大阪|[^-]日|JP|Japan",
         "excludes": "Premium"
      },
      {
         "type": "selector",
         "tag": "🇸🇬 狮城节点",
         "use_all_providers": true,
         "includes": "(?i)新加坡|坡|狮城|SG|Singapore",
         "excludes": "Premium"
      },
      {
         "type": "selector",
         "tag": "🇭🇰 香港节点",
         "use_all_providers": true,
         "includes": "(?i)香港|HK|hk|Hong Kong|HongKong|hongkong",
         "excludes": "Premium"
      },
      {
         "type": "selector",
         "tag": "✨台湾节点",
         "use_all_providers": true,
         "includes": "(?i)🇹🇼|TW|tw|台湾|臺灣|台|Taiwan",
         "excludes": "Premium"
      },
      {
         "type": "selector",
         "tag": "🇺🇲 美国节点",
         "use_all_providers": true,
         "includes": "(?i)美|达拉斯|洛杉矶|圣何塞|US|United States",
         "excludes": "Premium"
      },
      {
         "type": "selector",
         "tag": "🔰 其它节点",
         "use_all_providers": true,
         "includes": "(?i)德国|DE|brd|germany|荷兰|NL|Netherlands|法国|FR|France|French Republic|澳大利亚|AU|Australia|迪拜|UAE|Dubai|印度|IN|India|KR|Korea|KOR|首尔|韩|韓|英国|UnitedKingdom|UK|英|瑞典|Sweden|SE|巴西|Brazil|BR|非洲|Africa|AF",
         "excludes": "Premium"
      },
      {
        "type": "shadowsocks",
        "tag": "sp-ss",
        "server": "1.1.1.1", 
        "server_port": 11111,
        "method": "aes-128-gcm", 
        "password": "justforexample",
        "multiplex": {
          "enabled": true,
          "protocol": "h2mux",
          "max_connections": 1,
          "min_streams": 4,
          "padding": false
        }
      },
      {
        "type": "tuic",
        "tag": "sp-tuic",
        "server": "1.1.1.1", 
        "server_port": 11111,
        "uuid": "14752e63-b729-4117-ad93-60ab683eaa69", 
        "password": "yourpass", 
        "congestion_control": "bbr",
        "udp_relay_mode": "native",
        "zero_rtt_handshake": false,
        "heartbeat": "10s",
        "tls": {
          "enabled": true,
          "insecure": true,
          "server_name": "bing.com", 
          "alpn": [
            "h3"
          ]
        }
      },
      {
        "type": "hysteria2",
        "tag": "cc-hy2",
        "server": "1.1.1.1", 
        "server_port": 11111,
        "up_mbps": 1000, 
        "down_mbps": 1000,
        "password": "yourpass",
        "tls": {
          "enabled": true,
          "insecure": true,
          "server_name": "bing.com", 
          "alpn": [
            "h3"
          ]
        }
      },
      {
        "type": "shadowsocks",
        "tag": "cc-ss",
        "server": "1.1.1.1", 
        "server_port": 11111,
        "method": "aes-128-gcm", 
        "password": "yourpass",
        "multiplex": {
          "enabled": true,
          "protocol": "h2mux",
          "max_connections": 1,
          "min_streams": 4,
          "padding": false
        }
      },
      {
        "type": "tuic",
        "tag": "cc-tuic",
        "server": "1.1.1.1", 
        "server_port": 11111,
        "uuid": "14752e63-b729-4117-ad93-60ab683eaa69", 
        "password": "pass", 
        "congestion_control": "bbr",
        "udp_relay_mode": "native",
        "zero_rtt_handshake": false,
        "heartbeat": "10s",
        "tls": {
          "enabled": true,
          "insecure": true,
          "server_name": "bing.com", 
          "alpn": [
            "h3"
          ]
        }
      },
      {
        "type": "tuic",
        "tag": "bwg-tuic",
        "server": "1.1.1.1", 
        "server_port": 11111,
        "uuid": "14752e63-b729-4117-ad93-60ab683eaa69", 
        "password": "pass", 
        "congestion_control": "bbr",
        "udp_relay_mode": "native",
        "zero_rtt_handshake": false,
        "heartbeat": "10s",
        "tls": {
          "enabled": true,
          "insecure": true,
          "server_name": "bing.com", 
          "alpn": [
            "h3"
          ]
        }
      }
    ],
    "route": {
     "final": "🐟 漏网之鱼",
     "auto_detect_interface": true,
     "concurrent_dial": true,
     "default_mark": 1,
      "rules": [
      {
        "inbound": "in-dns",
        "outbound": "dns-out"
      },
      {
           "type": "logical",
           "mode": "and",
           "rules": [
                  {
                   "source_ip_cidr": "10.10.10.195"
                  },
                  {
                    "ip_cidr": [
                      "8.8.8.8"
                    ]
                  }
                ],
           "skip_resolve": true,
           "outbound": "dns-out"
       },
      {
        "ip_cidr": [
          "8.8.8.8",
          "8.8.4.4",
          "1.1.1.1",
          "1.0.0.1",
          "9.9.9.9"
        ],
        "skip_resolve": true,
        "outbound": "🚀 节点选择"
      },
      {
        "ip_cidr": [
          "223.5.5.5",
          "223.6.6.5",
          "119.29.29.29",
          "119.28.28.28"
        ],
        "skip_resolve": true,
        "outbound": "direct"
      },
      {
           "type": "logical",
           "mode": "and",
           "rules": [
                  {
                   "inbound": "hy2"
                  },
                  {
                    "ip_cidr": [
                      "10.10.10.0/24"
                    ]
                  }
                ],
           "skip_resolve": true,
           "outbound": "tolan"
       },
      {
           "type": "logical",
           "mode": "and",
           "rules": [
                  {
                   "inbound": "ss-in"
                  },
                  {
                    "ip_cidr": [
                      "10.10.10.0/24"
                    ]
                  }
                ],
           "skip_resolve": true,
           "outbound": "tolan"
       },
      {
        "network": "udp",
        "port": 443,
        "outbound": "block"
      },
      {
        "rule_set": "s-youtube",
        "outbound": "🌌 Google",
        "skip_resolve": true
      },
      {
        "rule_set": [
          "s-google",
          "s-github"
        ],
        "skip_resolve": true,
        "outbound": "🌌 Google"
      },
      {
        "rule_set": [
          "s-telegram",
          "i-telegram"
        ],
        "skip_resolve": true,
        "outbound": "📲 电报消息"
      },
      {
        "rule_set": "s-apple",
        "outbound": "🍎 苹果服务",
        "skip_resolve": true
      },
      {
        "rule_set": "s-microsoft",
        "outbound": "🧩 Microsoft",
        "skip_resolve": true
      },
      {
        "rule_set": [
          "s-netflix",
          "i-netflix"
        ],
        "skip_resolve": true,
        "outbound": "🎬 MediaVideo"
      },
      {
        "rule_set": "s-openai",
        "outbound": "🤖 OpenAI",
        "skip_resolve": true
      },
      {
        "rule_set": [
          "s-tiktok",
          "s-twitter"
        ],
        "skip_resolve": true,
        "outbound": "🐦 Twitter"
      },
      {
        "rule_set": [
          "s-facebook",
          "s-instagram"
        ],
        "skip_resolve": true,
        "outbound": "👤 Facebook"
      },
      {
        "rule_set": "s-amazon",
        "outbound": "🛍️ Amazon",
        "skip_resolve": true
      },
      {
        "rule_set": [
          "s-hbo",
          "s-disney",
          "s-primevideo"
        ],
        "skip_resolve": true,
        "outbound": "🎬 MediaVideo"
      },
      {
        "rule_set": "s-gamescn",
        "outbound": "direct",
        "skip_resolve": true
      },
      {
        "rule_set": "s-games",
        "outbound": "🎮 Game",
        "skip_resolve": true
      },
      {
        "rule_set": "i-cn",
        "skip_resolve": true,
        "outbound": "direct"
      },
      {
        "ip_is_private": true,
        "skip_resolve": true,
        "outbound": "direct"
      }
     ],
     "rule_set": [
      {
        "tag": "i-telegram",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geoip/telegram.srs"
      },
      {
        "tag": "i-netflix",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geoip/netflix.srs"
      },
      {
        "tag": "i-cn",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geoip/geoip-cn.srs"
      },
      {
        "tag": "s-openai",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-openai.srs"
      },
      {
        "tag": "s-youtube",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-youtube.srs"
      },
      {
        "tag": "s-google",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-google.srs"
      },
      {
        "tag": "s-github",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-github.srs"
      },
      {
        "tag": "s-telegram",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-telegram.srs"
      },
      {
        "tag": "s-twitter",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-twitter.srs"
      },
      {
        "tag": "s-facebook",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-facebook.srs"
      },
      {
        "tag": "s-instagram",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-instagram.srs"
      },
      {
        "tag": "s-amazon",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-amazon.srs"
      },
      {
        "tag": "s-apple",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-apple.srs"
      },
      {
        "tag": "s-microsoft",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-microsoft.srs"
      },
      {
        "tag": "s-games",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-category-games.srs"
      },
      {
        "tag": "s-gamescn",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-category-games@cn.srs"
      },
      {
        "tag": "s-tiktok",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-tiktok.srs"
      },
      {
        "tag": "s-netflix",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-netflix.srs"
      },
      {
        "tag": "s-hbo",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-hbo.srs"
      },
      {
        "tag": "s-disney",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-disney.srs"
      },
      {
        "tag": "s-primevideo",
        "type": "local",
        "format": "binary",
        "path": "/usr/local/etc/sing-box/geosite/geosite-primevideo.srs"
      }
    ]
  }
}